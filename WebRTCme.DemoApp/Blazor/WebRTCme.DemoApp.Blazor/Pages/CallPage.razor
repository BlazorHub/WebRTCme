@page "/CallPage"
@page "/CallPage/{ConnectionParametersJson}"
@layout BlankLayout

<h1 class="text-center">Call</h1>
<button type="button" class="m-2 btn btn-secondary" @onclick="@CallViewModel.OnShareScreenAsync">
    @CallViewModel.ShareScreenButtonText
</button>

<button type="button" class="m-2 btn btn-secondary" @onclick="@CallViewModel.OnRecordAsync">
    @CallViewModel.RecordButtonText
</button>


<div class="mx-4 d-flex flex-wrap">
    @foreach (var mediaParameters in CallViewModel.MediaParametersList)
    {
        <div class="p-2">
            <Media Stream="@mediaParameters.Stream" Label="@mediaParameters.Label"
                   VideoMuted="@mediaParameters.VideoMuted" AudioMuted="@mediaParameters.AudioMuted"
                   ShowContols="@mediaParameters.ShowControls" />
        </div>
    }
</div>

